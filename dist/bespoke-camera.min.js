/*! bespoke-camera v0.1.0 Â© 2014 Matteo Collina, Licensed MIT */
bespoke.plugins.camera=function(a,b){function c(){var a=function(a){console.log("Reeeejected!",a)};navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var b={video:{mandatory:{minWidth:1280,minFrameRate:30}},audio:!1};navigator.getUserMedia(b,function(a){e.src=window.URL.createObjectURL(a),e.play(),e.onloadedmetadata=function(){}},a)}function d(){f?(f=!1,e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen()&&e.webkitExitFullscreen()):(f=!0,e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen())}var e=document.createElement("video"),f=!1;b=b||{},e.style.width=b.width||"640px",e.style.position="fixed",e.style.top="0px",e.style.right="0px",e.style.visibility="hidden",e.style.opacity="0",e.onclick=function(){d()},document.querySelector("body").appendChild(e),c(),a.on("activate",function(a){null!==a.slide.getAttribute("data-camera")?(e.style.opacity="1",e.style.transition="opacity 0.5s linear",e.style.visibility="visible"):(e.style.opacity="0",e.style.transition="visibility 0s 0.25s, opacity 0.25s linear",e.style.visibility="hidden")})};